import nmap
import json

def nmap_scan(target, options):
    nm = nmap.PortScanner()
    nm.scan(target, arguments=options)
    return nm

def save_report(scan_data, output_file):
    with open(output_file, 'w') as f:
        json.dump(scan_data, f, indent=4)

if __name__ == "__main__":
    target = "example.com"  # replace with the actual target
    options = "-sV"  # example options, replace with desired options
    scan_data = nmap_scan(target, options)
    save_report(scan_data, 'reports/nmap_report.json')
